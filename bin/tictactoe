#!/usr/bin/env ruby
require_relative '../config/environment'



def tttgame
  user_greeting

  desired_player_mode = gets.strip

    if desired_player_mode == "0"
      newgame = Game.new(Players::Computer.new("X"), Players::Computer.new("X"))

    elsif desired_player_mode == "2"
      newgame = Game.new(Players::Human.new("X"), Players::Human.new("O"))

    elsif desired_player_mode == "1"
      user_player_choice

    else
      puts "INVALID USER RESPONSE"
      tttgame

    end

    newgame.play
    user_play_again

end #----TTTend


  # Greet user with message
def user_greeting
  puts "Welcome to Tic-Tac-Toe"
  puts "Please, choose a game type"
  puts "[0] Computer versus Computer"
  puts "[1] Human verus Computer"
  puts "[2] Human versus Human"
end


def user_player_choice
  puts "Please, choose Player 1 (X)"
  puts "[0] Computer"
  puts "[1] Human"
  response = gets.strip

  if response == "0"
    newgame = Game.new(Players::Computer.new("X"), Players::Human.new("O"))
  elsif response == "1"
    newgame = Game.new(Players::Human.new("X"), Players::Computer.new("O"))
  else
    puts "INVALID USER RESPONSE"
    user_player_choice
  end
end


def user_play_again
  puts "Would you like to play again?"
  puts "[0] No"
  puts "[1] Yes"
  response = gets.strip

  if response == "1"
    tttgame
  elsif response == "0"
    puts "Thank you for playing!"
  else
    puts "INVALID USER RESPONSE"
    user_play_again
  end
end

tttgame
